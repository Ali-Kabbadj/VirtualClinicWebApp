@using Microsoft.AspNetCore.Identity;
@model VirtualClinic.ViewModels.DoctorViewModel
@inject UserManager<ApplicationUser> UserManager
@inject SignInManager<ApplicationUser> SignInManager



<link href="/DoctorsProfiles/css/DoctorDetailsStyle.css" rel="stylesheet" />

<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<div style="margin-top:150px;" class="container bootstrap snippets bootdey">
    <div class="row">
        <div class="profile-nav col-md-3">
            <div class="panel">
                <div class="user-heading round">
                    <a href="#">
                        <img src="data:image/jpeg;base64,@Convert.ToBase64String(Model.Image)" alt="">
                    </a>
                    <h1>@Model.FirstName @Model.LastName</h1>
                    <p>@Model.Email</p>
                </div>
            </div>
            @if (SignInManager.IsSignedIn(User))
            {
                @if (!UserManager.GetUserAsync(User).Result.IsDoctor)
                {
                    <a class="btn btn-primary text-uppercase" asp-route-doctorid="@Model.Id" asp-controller="Appointement" asp-action="MakeAppointement">Make Appointement</a>
                }
            }
            else
            {
                <a class="btn btn-primary text-uppercase" asp-controller="Account" asp-action="Login">Login To Make An Appointment</a>
            }
        </div>
        <div class="profile-info col-md-9">
            <div class="panel">
                <div class="bio-graph-heading">
                    @Model.Speciality
                </div>
                <div class="panel-body bio-graph-info">
                    <h1>Info</h1>

                    <div class="row">
                        <div class="bio-row">
                            <p><span>Country </span>: @Model.Country</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="bio-row">
                            <p><span>State </span>: @Model.State</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="bio-row">
                            <p><span>City </span>: @Model.City</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="bio-row">
                            <p><span>Price </span>: @Model.Price</p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="bio-row">
                            <p><span>Total Appointments </span>: @ViewBag.Totalappointement</p>
                        </div>
                    </div>
                </div>
            </div>
            <div>
               
            </div>
        </div>
    </div>
</div>